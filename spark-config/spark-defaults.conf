spark.history.fs.logDirectory hdfs://namenode:8020/spark-logs
spark.history.ui.port 18080

# Memory Management & Disk Spilling Configuration
spark.memory.fraction 0.6
spark.memory.storageFraction 0.5
spark.shuffle.spill.compress true
spark.shuffle.spill true
spark.local.dir /tmp/spark-temp

# Increase memory for driver and executors
spark.driver.memory 4g
spark.executor.memory 4g
spark.driver.maxResultSize 2g

# Disk spilling thresholds
spark.memory.offHeap.enabled true
spark.memory.offHeap.size 2g

# Serialization for better memory efficiency
spark.serializer org.apache.spark.serializer.KryoSerializer
spark.kryoserializer.buffer.max 512m

# Shuffle optimization
spark.shuffle.file.buffer 64k
spark.reducer.maxSizeInFlight 96m
